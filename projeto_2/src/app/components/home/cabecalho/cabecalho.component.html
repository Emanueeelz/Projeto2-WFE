<header class="header bg-dark">
  <div class="container d-flex justify-content-between align-items-center">
    <nav class="navbar navbar-expand-lg p-0">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link p-0 text-white" href="#" data-bs-toggle="modal" data-bs-target="#favoritosModal">Favoritos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link p-0 text-white" href="#" data-bs-toggle="modal" data-bs-target="#magoModal">Mago</a>
        </li>
      </ul>
    </nav>

    <div class="d-flex justify-content-center align-items-center flex-grow-1">
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/8d/Pixel_art_Wizard_Portrait.png" alt="Logo" class="mr-3" style="height: 100px;">
      <div class="text-center">
        <h1 class="mb-0 text-white">Quest'pedia ✰</h1>
        <p class="mb-0 text-white">Explore seu jogo favorito</p>
      </div>
    </div>

    <nav class="navbar navbar-expand-lg p-0 ml-auto">
      <ul class="navbar-nav">
        <li class="nav-item" *ngIf="usuarioLogado$ | async as usuario; else loginLink">
          <span class="nav-link p-0 text-white" href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">{{ usuario?.nome }}</span>
        </li>

        <ng-template #loginLink>
          <li class="nav-item">
            <a class="nav-link p-0 text-white" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a>
          </li>
        </ng-template>

        <li class="nav-item">
          <a class="nav-link p-0 text-white" href="#" data-bs-toggle="modal" data-bs-target="#sobreModal">Sobre</a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<!-- Modal Login -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="loginModalLabel">Login</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body">
        <app-formulario></app-formulario>
      </div>
    </div>
  </div>
</div>

<!-- Modal Logout -->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="logoutModalLabel">Sair</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body text-center">
        <p class="fw-bold fs-4">Olá, <span *ngIf="usuarioLogado$ | async as usuario">{{ usuario?.nome }}, </span>tem certeza que deseja sair?</p>
        <p>Sair do Quest'pedia como <span *ngIf="usuarioLogado$ | async as usuario">{{ usuario?.email }}</span>?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" (click)="logout()" data-bs-dismiss="modal">Sair</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Favoritos -->
<div class="modal fade" id="favoritosModal" tabindex="-1" aria-labelledby="favoritosModalLabel" aria-hidden="true" (hidden.bs.modal)="removerBackdrop()">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="favoritosModalLabel">Favoritos</h5>
      </div>
      <div class="modal-body">
        <app-favoritos></app-favoritos>
      </div>
    </div>
  </div>
</div>

<!-- Modal Mago -->
<div class="modal fade" id="magoModal" tabindex="-1" aria-labelledby="magoModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="magoModalLabel">Mago</h5>
      </div>
      <div class="modal-body">
        <app-mago></app-mago>
      </div>
    </div>
  </div>
</div>

<!-- Modal Sobre -->
<div class="modal fade" id="sobreModal" tabindex="-1" aria-labelledby="sobreModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="sobreModalLabel">Sobre</h5>
      </div>
      <div class="modal-body">
        <app-sobre></app-sobre>
      </div>
    </div>
  </div>
</div>

